---
import BaseLayout from "../layouts/BaseLayout.astro";

import LinkIcon from "../components/icons/LinkIcon.astro";
import ReadingIndicator from "../components/ReadingIndicator.astro";

import { Image } from "astro:assets";

interface Props {
    caption: string;
    url?: string;
    banner?: ImageMetadata;
    bannerAlt?: string;
}

const { caption, url = "", banner, bannerAlt } = Astro.props;
---

<BaseLayout title={caption}>
    <ReadingIndicator />
    <div class="flex flex-col mt-8 md:mt-0">
        <p class="text-4xl md:text-5xl text-center">{caption}</p>

        {
            banner && bannerAlt && (
                <div class="px-6 md:px-0">
                    <Image
                        src={banner}
                        width="800"
                        alt={bannerAlt}
                        class="md:mt-16 mt-5 mb-5 mx-auto rounded-2xl"
                    />
                </div>
            )
        }

        <section
            class="mt-4 opacity-75 text-center text-pretty text-lg sm:text-xl leading-relaxed px-4 sm:px-0 mx-auto max-w-prose sm:max-w-2xl"
        >
            <slot name="desc" />
        </section>

        <section class="mx-10 mt-14 md:mx-auto md:max-w-3xl">
            <slot name="article" />
        </section>
        {
            url && (
                <div class="rounded-md px-3 py-2 mx-auto my-14 bg-primary-dark dark:bg-primary-light text-primary-light dark:text-primary-dark flex items-center space-x-2 md:hover:-translate-y-1 transition ease-in-out duration-200">
                    <a href={url} target="_blank">
                        Visit on GitHub
                    </a>
                    <LinkIcon />
                </div>
            )
        }
    </div>
</BaseLayout>
